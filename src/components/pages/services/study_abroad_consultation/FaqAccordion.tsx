"use client";

import FadeInLeftWithSlowBounce from "@/animation_wrappers/FadeInLeftWithSlowBounce";
import React, { useState } from "react";
import { IoIosArrowDown, IoIosArrowUp } from "react-icons/io";

const FaqAccordion = ({ title, answer }: { title: string; answer: string }) => {
  const [accordionOpen, setAccordionOpen] = useState(false);

  return (
    <FadeInLeftWithSlowBounce>
      <div
        className={`rounded-lg border border-l-8 border-l-primary pl-3 shadow duration-500 ${accordionOpen ? "bg-primary" : ""} `}
      >
        <button
          onClick={() => setAccordionOpen(!accordionOpen)}
          className="flex min-h-14 w-full items-stretch justify-between"
        >
          <div
            className={`flex basis-full items-center justify-start gap-2 py-1 text-left font-medium ${accordionOpen ? "text-white" : ""}`}
          >
            <div>
              {accordionOpen ? (
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M19.801 10.222C20.0673 11.3936 20.0664 12.6102 19.7984 13.7814C19.5304 14.9526 19.0021 16.0485 18.2528 16.9877C17.5035 17.9269 16.5523 18.6854 15.4699 19.2069C14.3875 19.7283 13.2015 19.9994 12 20C7.585 20 4 16.415 4 12C4.00057 10.7232 4.30657 9.46511 4.89246 8.33069C5.47835 7.19628 6.32713 6.21848 7.36792 5.47895C8.40871 4.73941 9.61132 4.25959 10.8753 4.07955C12.1394 3.89951 13.4281 4.02447 14.634 4.444C14.7586 4.4899 14.8911 4.51053 15.0237 4.50468C15.1563 4.49884 15.2865 4.46665 15.4065 4.40998C15.5266 4.35331 15.6342 4.2733 15.723 4.17461C15.8118 4.07593 15.8801 3.96055 15.9238 3.8352C15.9676 3.70985 15.9859 3.57705 15.9778 3.44453C15.9697 3.31201 15.9353 3.18244 15.8766 3.06337C15.8178 2.9443 15.736 2.83811 15.6358 2.751C15.5356 2.66389 15.4191 2.5976 15.293 2.556C14.2344 2.18703 13.1211 1.99906 12 2C6.481 2 2 6.481 2 12C2 17.519 6.481 22 12 22C17.519 22 22 17.519 22 12C22 11.237 21.914 10.493 21.752 9.778C21.686 9.52685 21.5249 9.31119 21.3028 9.17657C21.0807 9.04196 20.815 8.99892 20.5618 9.05654C20.3086 9.11417 20.0877 9.26795 19.9457 9.48542C19.8037 9.70288 19.7519 9.967 19.801 10.222ZM11 12.586L19.293 4.293C19.4816 4.11085 19.7342 4.01005 19.9964 4.01233C20.2586 4.01461 20.5094 4.11978 20.6948 4.30519C20.8802 4.49059 20.9854 4.74141 20.9877 5.0036C20.99 5.2658 20.8892 5.5184 20.707 5.707L11.707 14.707C11.6142 14.7999 11.504 14.8737 11.3827 14.924C11.2614 14.9743 11.1313 15.0002 11 15.0002C10.8687 15.0002 10.7386 14.9743 10.6173 14.924C10.496 14.8737 10.3858 14.7999 10.293 14.707L7.293 11.707C7.11084 11.5184 7.01005 11.2658 7.01233 11.0036C7.0146 10.7414 7.11977 10.4906 7.30518 10.3052C7.49059 10.1198 7.7414 10.0146 8.0036 10.0123C8.2658 10.0101 8.5184 10.1108 8.707 10.293L11 12.586Z"
                    fill="#FDFDFD"
                  />
                </svg>
              ) : (
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M19.801 10.222C20.0673 11.3936 20.0664 12.6102 19.7984 13.7814C19.5304 14.9526 19.0021 16.0485 18.2528 16.9877C17.5035 17.9269 16.5523 18.6854 15.4699 19.2069C14.3875 19.7283 13.2015 19.9994 12 20C7.585 20 4 16.415 4 12C4.00057 10.7232 4.30657 9.46511 4.89246 8.33069C5.47835 7.19628 6.32713 6.21848 7.36792 5.47895C8.40871 4.73941 9.61132 4.25959 10.8753 4.07955C12.1394 3.89951 13.4281 4.02447 14.634 4.444C14.7586 4.4899 14.8911 4.51053 15.0237 4.50468C15.1563 4.49884 15.2865 4.46665 15.4065 4.40998C15.5266 4.35331 15.6342 4.2733 15.723 4.17461C15.8118 4.07593 15.8801 3.96055 15.9238 3.8352C15.9676 3.70985 15.9859 3.57705 15.9778 3.44453C15.9697 3.31201 15.9353 3.18244 15.8766 3.06337C15.8178 2.9443 15.736 2.83811 15.6358 2.751C15.5356 2.66389 15.4191 2.5976 15.293 2.556C14.2344 2.18703 13.1211 1.99906 12 2C6.481 2 2 6.481 2 12C2 17.519 6.481 22 12 22C17.519 22 22 17.519 22 12C22 11.237 21.914 10.493 21.752 9.778C21.686 9.52685 21.5249 9.31119 21.3028 9.17657C21.0807 9.04196 20.815 8.99892 20.5618 9.05654C20.3086 9.11417 20.0877 9.26795 19.9457 9.48542C19.8037 9.70288 19.7519 9.967 19.801 10.222ZM11 12.586L19.293 4.293C19.4816 4.11085 19.7342 4.01005 19.9964 4.01233C20.2586 4.01461 20.5094 4.11978 20.6948 4.30519C20.8802 4.49059 20.9854 4.74141 20.9877 5.0036C20.99 5.2658 20.8892 5.5184 20.707 5.707L11.707 14.707C11.6142 14.7999 11.504 14.8737 11.3827 14.924C11.2614 14.9743 11.1313 15.0002 11 15.0002C10.8687 15.0002 10.7386 14.9743 10.6173 14.924C10.496 14.8737 10.3858 14.7999 10.293 14.707L7.293 11.707C7.11084 11.5184 7.01005 11.2658 7.01233 11.0036C7.0146 10.7414 7.11977 10.4906 7.30518 10.3052C7.49059 10.1198 7.7414 10.0146 8.0036 10.0123C8.2658 10.0101 8.5184 10.1108 8.707 10.293L11 12.586Z"
                    fill="#F37329"
                  />
                </svg>
              )}
            </div>

            {title}
          </div>
          <div className="flex min-h-full basis-[30px] items-center justify-end rounded-r-lg bg-primary px-4 py-4 text-white duration-300">
            {accordionOpen ? (
              <IoIosArrowUp className="text-xl" />
            ) : (
              <IoIosArrowDown className="text-xl" />
            )}
          </div>
        </button>

        <div
          className={`grid overflow-hidden text-sm text-slate-600 transition-all duration-300 ease-in-out ${
            accordionOpen
              ? "grid-rows-[1fr] pb-4 opacity-100"
              : "grid-rows-[0fr] opacity-0"
          }`}
        >
          <div className={`overflow-hidden px-1 font-medium text-white`}>
            {answer}
          </div>
        </div>
      </div>
    </FadeInLeftWithSlowBounce>
  );
};

export default FaqAccordion;
