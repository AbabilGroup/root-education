"use client";

import FadeInLeftWithSlowBounce from "@/animation_wrappers/FadeInLeftWithSlowBounce";
import React, { useState } from "react";
import { IoIosArrowDown, IoIosArrowUp } from "react-icons/io";

const FaqAccordion = ({ title, answer }: { title: string; answer: string }) => {
  const [accordionOpen, setAccordionOpen] = useState(false);

  return (
    <FadeInLeftWithSlowBounce>
      <div
        className={`rounded-lg border border-l-8 border-l-primary pl-3 shadow duration-500 ${accordionOpen ? "bg-primary" : ""} `}
      >
        <button
          onClick={() => setAccordionOpen(!accordionOpen)}
          className="flex min-h-14 w-full items-stretch justify-between"
        >
          <div
            className={`flex basis-full items-center justify-start gap-2 py-1 text-left font-medium ${accordionOpen ? "text-white" : ""}`}
          >
            <div>
              {accordionOpen ? (
                <svg
                  className="fill-white"
                  width="28"
                  height="28"
                  viewBox="0 0 28 28"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clipPath="url(#clip0_1586_12371)">
                    <path d="M14.0012 7.55996C10.4508 7.55996 7.56125 10.4496 7.56125 14C7.56125 17.5504 10.4508 20.44 14.0012 20.44C17.5516 20.44 20.4412 17.5504 20.4412 14C20.4412 10.4496 17.5516 7.55996 14.0012 7.55996ZM17.3948 12.3032L12.9148 16.7832C12.5844 17.1136 12.0524 17.1136 11.7276 16.7832L10.0476 15.1032C9.96909 15.0256 9.90671 14.9331 9.86414 14.8312C9.82157 14.7293 9.79965 14.62 9.79965 14.5096C9.79965 14.3991 9.82157 14.2898 9.86414 14.1879C9.90671 14.086 9.96909 13.9936 10.0476 13.916C10.1253 13.8374 10.2177 13.775 10.3196 13.7325C10.4215 13.6899 10.5308 13.668 10.6412 13.668C10.7517 13.668 10.861 13.6899 10.9629 13.7325C11.0648 13.775 11.1572 13.8374 11.2348 13.916L12.3212 15.0024L16.2076 11.116C16.2853 11.0374 16.3777 10.975 16.4796 10.9325C16.5815 10.8899 16.6908 10.868 16.8012 10.868C16.9117 10.868 17.021 10.8899 17.1229 10.9325C17.2248 10.975 17.3172 11.0374 17.3948 11.116C17.7252 11.4408 17.7252 11.9728 17.3948 12.3032ZM26.4612 11.396C26.114 10.9648 25.7836 10.5616 25.666 10.2088C25.5428 9.82796 25.5708 9.25676 25.5988 8.71356C25.6436 7.79516 25.6996 6.75356 25.1004 5.93596C24.5012 5.10716 23.4876 4.83836 22.5972 4.59756C22.0708 4.45756 21.5276 4.31196 21.2084 4.08236C20.9004 3.85836 20.598 3.38796 20.3068 2.93996C19.8028 2.15596 19.2316 1.27116 18.246 0.951961C17.294 0.643961 16.3308 1.01356 15.4852 1.33836C14.9588 1.53436 14.4156 1.73596 14.0012 1.73596C13.5868 1.73596 13.0436 1.52876 12.5228 1.33276C11.6716 1.00796 10.7084 0.638361 9.75645 0.946361C8.77085 1.26556 8.19965 2.15036 7.69565 2.93436C7.40445 3.38796 7.10205 3.85276 6.78845 4.07676C6.46925 4.30636 5.92605 4.45196 5.39965 4.59196C4.50925 4.83276 3.49565 5.10156 2.89645 5.93036C2.30285 6.74796 2.35325 7.78956 2.39805 8.70796C2.42605 9.25676 2.45405 9.82236 2.33085 10.2088C2.21885 10.5616 1.88845 10.9648 1.53565 11.396C0.95325 12.124 0.28125 12.9472 0.28125 14C0.28125 15.0528 0.95325 15.876 1.54125 16.604C1.88845 17.0352 2.21885 17.4384 2.33645 17.7912C2.45965 18.172 2.43165 18.7432 2.40365 19.2864C2.35885 20.2048 2.30285 21.2464 2.90205 22.064C3.50125 22.8928 4.51485 23.1616 5.40525 23.4024C5.93165 23.5424 6.47485 23.688 6.79405 23.9176C7.10205 24.1416 7.40445 24.612 7.69565 25.06C8.19965 25.844 8.77085 26.7288 9.75645 27.048C10.7084 27.356 11.6716 26.9864 12.5172 26.6616C13.038 26.46 13.5756 26.2584 13.9956 26.2584C14.4156 26.2584 14.9532 26.4656 15.474 26.6616C16.1012 26.9024 16.7844 27.16 17.4788 27.16C17.7308 27.16 17.9828 27.1264 18.2348 27.0424C19.2204 26.7232 19.7916 25.8384 20.2956 25.0544C20.5868 24.6008 20.8892 24.136 21.2028 23.912C21.522 23.6824 22.0652 23.5368 22.5916 23.3968C23.482 23.156 24.4956 22.8872 25.0948 22.0584C25.6884 21.2408 25.638 20.1992 25.5932 19.2808C25.5652 18.732 25.5372 18.1664 25.6604 17.78C25.7724 17.4272 26.1028 17.024 26.4556 16.5928C27.0492 15.8648 27.7156 15.0416 27.7156 13.9888C27.7156 12.936 27.0492 12.124 26.4612 11.396ZM14.0012 22.12C9.52125 22.12 5.88125 18.48 5.88125 14C5.88125 9.51996 9.52125 5.87996 14.0012 5.87996C18.4812 5.87996 22.1212 9.51996 22.1212 14C22.1212 18.48 18.4812 22.12 14.0012 22.12Z" />
                  </g>
                  <defs>
                    <clipPath id="clip0_1586_12371">
                      <rect width="28" height="28" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
              ) : (
                <svg
                  className="fill-primary"
                  width="28"
                  height="28"
                  viewBox="0 0 28 28"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clipPath="url(#clip0_1586_12371)">
                    <path d="M14.0012 7.55996C10.4508 7.55996 7.56125 10.4496 7.56125 14C7.56125 17.5504 10.4508 20.44 14.0012 20.44C17.5516 20.44 20.4412 17.5504 20.4412 14C20.4412 10.4496 17.5516 7.55996 14.0012 7.55996ZM17.3948 12.3032L12.9148 16.7832C12.5844 17.1136 12.0524 17.1136 11.7276 16.7832L10.0476 15.1032C9.96909 15.0256 9.90671 14.9331 9.86414 14.8312C9.82157 14.7293 9.79965 14.62 9.79965 14.5096C9.79965 14.3991 9.82157 14.2898 9.86414 14.1879C9.90671 14.086 9.96909 13.9936 10.0476 13.916C10.1253 13.8374 10.2177 13.775 10.3196 13.7325C10.4215 13.6899 10.5308 13.668 10.6412 13.668C10.7517 13.668 10.861 13.6899 10.9629 13.7325C11.0648 13.775 11.1572 13.8374 11.2348 13.916L12.3212 15.0024L16.2076 11.116C16.2853 11.0374 16.3777 10.975 16.4796 10.9325C16.5815 10.8899 16.6908 10.868 16.8012 10.868C16.9117 10.868 17.021 10.8899 17.1229 10.9325C17.2248 10.975 17.3172 11.0374 17.3948 11.116C17.7252 11.4408 17.7252 11.9728 17.3948 12.3032ZM26.4612 11.396C26.114 10.9648 25.7836 10.5616 25.666 10.2088C25.5428 9.82796 25.5708 9.25676 25.5988 8.71356C25.6436 7.79516 25.6996 6.75356 25.1004 5.93596C24.5012 5.10716 23.4876 4.83836 22.5972 4.59756C22.0708 4.45756 21.5276 4.31196 21.2084 4.08236C20.9004 3.85836 20.598 3.38796 20.3068 2.93996C19.8028 2.15596 19.2316 1.27116 18.246 0.951961C17.294 0.643961 16.3308 1.01356 15.4852 1.33836C14.9588 1.53436 14.4156 1.73596 14.0012 1.73596C13.5868 1.73596 13.0436 1.52876 12.5228 1.33276C11.6716 1.00796 10.7084 0.638361 9.75645 0.946361C8.77085 1.26556 8.19965 2.15036 7.69565 2.93436C7.40445 3.38796 7.10205 3.85276 6.78845 4.07676C6.46925 4.30636 5.92605 4.45196 5.39965 4.59196C4.50925 4.83276 3.49565 5.10156 2.89645 5.93036C2.30285 6.74796 2.35325 7.78956 2.39805 8.70796C2.42605 9.25676 2.45405 9.82236 2.33085 10.2088C2.21885 10.5616 1.88845 10.9648 1.53565 11.396C0.95325 12.124 0.28125 12.9472 0.28125 14C0.28125 15.0528 0.95325 15.876 1.54125 16.604C1.88845 17.0352 2.21885 17.4384 2.33645 17.7912C2.45965 18.172 2.43165 18.7432 2.40365 19.2864C2.35885 20.2048 2.30285 21.2464 2.90205 22.064C3.50125 22.8928 4.51485 23.1616 5.40525 23.4024C5.93165 23.5424 6.47485 23.688 6.79405 23.9176C7.10205 24.1416 7.40445 24.612 7.69565 25.06C8.19965 25.844 8.77085 26.7288 9.75645 27.048C10.7084 27.356 11.6716 26.9864 12.5172 26.6616C13.038 26.46 13.5756 26.2584 13.9956 26.2584C14.4156 26.2584 14.9532 26.4656 15.474 26.6616C16.1012 26.9024 16.7844 27.16 17.4788 27.16C17.7308 27.16 17.9828 27.1264 18.2348 27.0424C19.2204 26.7232 19.7916 25.8384 20.2956 25.0544C20.5868 24.6008 20.8892 24.136 21.2028 23.912C21.522 23.6824 22.0652 23.5368 22.5916 23.3968C23.482 23.156 24.4956 22.8872 25.0948 22.0584C25.6884 21.2408 25.638 20.1992 25.5932 19.2808C25.5652 18.732 25.5372 18.1664 25.6604 17.78C25.7724 17.4272 26.1028 17.024 26.4556 16.5928C27.0492 15.8648 27.7156 15.0416 27.7156 13.9888C27.7156 12.936 27.0492 12.124 26.4612 11.396ZM14.0012 22.12C9.52125 22.12 5.88125 18.48 5.88125 14C5.88125 9.51996 9.52125 5.87996 14.0012 5.87996C18.4812 5.87996 22.1212 9.51996 22.1212 14C22.1212 18.48 18.4812 22.12 14.0012 22.12Z" />
                  </g>
                  <defs>
                    <clipPath id="clip0_1586_12371">
                      <rect width="28" height="28" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
              )}
            </div>

            {title}
          </div>
          <div className="flex min-h-full basis-[30px] items-center justify-end rounded-r-lg bg-primary px-4 py-4 text-white duration-300">
            {accordionOpen ? (
              <IoIosArrowUp className="text-xl" />
            ) : (
              <IoIosArrowDown className="text-xl" />
            )}
          </div>
        </button>

        <div
          className={`grid overflow-hidden text-sm text-slate-600 transition-all duration-300 ease-in-out ${
            accordionOpen
              ? "grid-rows-[1fr] pb-4 opacity-100"
              : "grid-rows-[0fr] opacity-0"
          }`}
        >
          <div className={`overflow-hidden px-1 font-medium text-white`}>
            {answer}
          </div>
        </div>
      </div>
    </FadeInLeftWithSlowBounce>
  );
};

export default FaqAccordion;
