import Image from "next/image";
import FadeInLeftWithSlowBounce from "@/animation_wrappers/FadeInLeftWithSlowBounce";
import { Button } from "../ui/Button";
import { formatIndianNumber, getYearFromDate } from "@/lib/utils";
import Link from "next/link";
import { apiBaseUrl } from "@/secrets";

const UniversityCard = ({
  university,
}: {
  university: {
    id: number;
    name: string;
    description: string;
    slug: string;
    photo: string;
    logo: string;
    short_info: {
      country: string;
      university_type: string;
      total_students: number;
      launched: number;
    };
  };
}) => {
  return (
    <FadeInLeftWithSlowBounce className="flex flex-col gap-4 rounded-xl border p-5 shadow-lg">
      <div className="relative min-h-[250px] w-full">
        <Image
          className="rounded-lg object-cover"
          src={`${apiBaseUrl}${university.photo ? university.photo : "/"}`}
          alt="University"
          fill
        />
      </div>
      <h5 className="text-xl font-semibold">
        {university.name}, {university.short_info.country}
      </h5>
      <p className="text-sm font-medium">{university.description}</p>

      {/* infos  */}
      <div className="grid grid-cols-1 gap-x-3 gap-y-2 md:grid-cols-2">
        {/* info item  */}
        <div className="flex items-center justify-start gap-2">
          <div>
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M10 1.04175C6.8975 1.04175 4.375 3.58675 4.375 6.72591C4.375 7.78925 4.84333 9.10841 5.525 10.4242C7.02583 13.3217 9.52583 16.2401 9.52583 16.2401C9.58451 16.3084 9.65726 16.3632 9.7391 16.4008C9.82094 16.4384 9.90994 16.4579 10 16.4579C10.0901 16.4579 10.1791 16.4384 10.2609 16.4008C10.3427 16.3632 10.4155 16.3084 10.4742 16.2401C10.4742 16.2401 12.9742 13.3217 14.475 10.4242C15.1567 9.10841 15.625 7.78925 15.625 6.72591C15.625 3.58675 13.1025 1.04175 10 1.04175ZM10 4.37508C9.40291 4.39119 8.83568 4.63969 8.41906 5.06771C8.00243 5.49572 7.76931 6.06944 7.76931 6.66675C7.76931 7.26405 8.00243 7.83777 8.41906 8.26579C8.83568 8.6938 9.40291 8.94231 10 8.95841C10.5971 8.94231 11.1643 8.6938 11.5809 8.26579C11.9976 7.83777 12.2307 7.26405 12.2307 6.66675C12.2307 6.06944 11.9976 5.49572 11.5809 5.06771C11.1643 4.63969 10.5971 4.39119 10 4.37508Z"
                fill="#F37329"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M13.9873 14.4808C14.6648 14.6841 15.2232 14.9358 15.609 15.2308C15.859 15.4208 16.0423 15.6066 16.0423 15.8333C16.0423 15.9666 15.9665 16.0875 15.8598 16.2083C15.6832 16.4075 15.4207 16.5866 15.0957 16.7533C13.9473 17.3408 12.0907 17.7083 10.0007 17.7083C7.91065 17.7083 6.05398 17.3408 4.90565 16.7533C4.58065 16.5866 4.31815 16.4075 4.14148 16.2083C4.03482 16.0875 3.95898 15.9666 3.95898 15.8333C3.95898 15.6066 4.14232 15.4208 4.39232 15.2308C4.77815 14.9358 5.33648 14.6841 6.01398 14.4808C6.17278 14.4331 6.30611 14.3242 6.38464 14.1782C6.46317 14.0321 6.48047 13.8609 6.43273 13.7021C6.385 13.5433 6.27613 13.4099 6.13009 13.3314C5.98404 13.2529 5.81278 13.2356 5.65398 13.2833C4.62232 13.5941 3.82065 14.02 3.33898 14.4908C2.91565 14.9033 2.70898 15.365 2.70898 15.8333C2.70898 16.4183 3.03982 17.0016 3.71232 17.4883C4.89232 18.3416 7.26232 18.9583 10.0007 18.9583C12.739 18.9583 15.109 18.3416 16.289 17.4883C16.9615 17.0016 17.2923 16.4183 17.2923 15.8333C17.2923 15.365 17.0857 14.9033 16.6623 14.4908C16.1807 14.02 15.379 13.5941 14.3473 13.2833C14.2687 13.2597 14.1862 13.2518 14.1045 13.26C14.0228 13.2683 13.9435 13.2925 13.8712 13.3314C13.7989 13.3703 13.735 13.423 13.683 13.4866C13.6311 13.5502 13.5922 13.6234 13.5686 13.7021C13.5449 13.7807 13.537 13.8632 13.5453 13.9449C13.5535 14.0266 13.5778 14.1058 13.6167 14.1782C13.6555 14.2505 13.7083 14.3144 13.7719 14.3663C13.8355 14.4183 13.9087 14.4572 13.9873 14.4808Z"
                fill="#F37329"
              />
            </svg>
          </div>
          <div>
            <p className="text-sm font-medium">
              Country : {university.short_info.country}
            </p>
          </div>
        </div>
        {/* info item  */}
        <div className="flex items-center justify-start gap-2">
          <div>
            <svg
              width="24"
              height="25"
              viewBox="0 0 24 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M3.68078 7.4938C3.44171 7.35786 3.44171 7.01567 3.67609 6.87974C4.25265 6.53755 5.50421 5.82036 6.09015 5.47817L13.0745 1.42349C13.4683 1.1938 13.9558 1.1938 14.3448 1.42349L23.7714 6.83286C24.0105 6.9688 24.0105 7.31099 23.7761 7.45161C23.1526 7.81255 20.4433 9.38755 19.8761 9.71568C19.8058 9.57974 19.6886 9.46255 19.562 9.37349L14.2464 6.27505C14.087 6.1813 13.9089 6.13442 13.7261 6.13442C12.6855 6.12974 12.2964 7.54536 13.2011 8.06567L17.9495 10.836V10.8407L14.3776 12.9172C13.9886 13.1422 13.4917 13.1469 13.1073 12.9172M16.7917 22.011C15.1276 25.1422 12.5355 23.6563 13.9651 20.6188C14.612 19.3579 15.6433 18.5938 16.5339 18.9735C17.312 19.3579 17.4292 20.7172 16.7917 22.011ZM15.0151 21.1344C14.6401 21.9126 15.3245 22.3063 15.7464 21.4954C16.1261 20.6751 15.4136 20.3516 15.0151 21.1344ZM14.7011 13.4797C14.1058 13.8266 13.3558 13.8266 12.7651 13.475L6.73702 10.0204C6.73702 10.4422 6.7464 13.0297 6.7464 13.386C9.46984 15.186 12.423 16.6954 15.4558 17.8766C16.0651 17.5251 17.3448 16.7844 17.9589 16.4235L17.9448 11.5954L14.7011 13.4797ZM20.0214 10.3907L20.0355 15.2188C20.298 15.0547 20.7573 14.8954 20.7339 14.511L20.7198 9.98286L20.0214 10.3907ZM18.6245 17.5719C18.8636 17.511 19.1448 17.511 19.3839 17.5719L19.3651 10.2313C19.3651 10.1 19.2901 9.9688 19.1776 9.90318L13.9183 6.83755C13.487 6.5938 13.1073 7.2313 13.5386 7.4938L18.6105 10.4516L18.6245 17.5719ZM19.0042 18.186C17.6823 18.2188 17.687 20.1547 19.0089 20.1876C20.3261 20.1407 20.3261 18.2282 19.0042 18.186ZM7.91827 14.8954C6.33859 13.9485 4.64171 12.7719 3.33859 11.75C2.46203 10.8829 1.1964 11.7219 0.455776 13.1422C-0.177037 14.436 -0.0645369 15.7907 0.718276 16.175C2.34953 16.7516 4.04171 17.4454 5.90734 18.3735C6.05734 17 6.79796 15.711 7.91827 14.8954ZM15.123 18.4485C13.787 17.9188 12.512 17.3657 11.087 16.6485C9.91515 17.4125 9.16984 18.7016 9.1089 20.1172C10.5292 20.9657 11.8042 21.8235 12.9339 22.6579C12.6808 21.2047 13.7964 19.0344 15.123 18.4485ZM10.4355 16.3157C9.80265 15.9875 9.15109 15.6266 8.53702 15.2704C7.36046 15.9501 6.53546 17.5766 6.54484 18.6969C7.19171 19.0297 7.86202 19.3954 8.48077 19.7516C8.51827 18.7391 9.31046 17.0563 10.4355 16.3157ZM5.87453 18.9688C5.28859 19.2219 4.57609 19.6438 4.1214 19.9813C4.77765 20.3469 5.68702 21.0688 6.18859 21.6219C6.57296 21.1485 7.2714 20.511 7.84327 20.1454C7.22921 19.7891 6.51671 19.4188 5.86984 19.0907L5.87453 18.9688Z"
                fill="#F37329"
              />
            </svg>
          </div>
          <div>
            <p className="text-sm font-medium">
              University Type : {university.short_info.university_type}
            </p>
          </div>
        </div>
        {/* info item  */}
        <div className="flex items-center justify-start gap-2">
          <div>
            <svg
              width="24"
              height="25"
              viewBox="0 0 24 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M18.5287 8.73438C18.5632 9.6663 19.9006 9.6656 19.9349 8.73438V5.83544L18.5287 6.34943V8.73438ZM4.53023 4.50691L11.7578 7.15043C11.9138 7.20746 12.0848 7.20749 12.2407 7.15052L19.4732 4.507C20.0849 4.28411 20.0847 3.40896 19.4732 3.18621L12.2432 0.542785C12.0873 0.485738 11.9162 0.485738 11.7603 0.542785L4.53033 3.18621C3.9187 3.40905 3.91894 4.28416 4.53023 4.50691ZM7.15678 15.8388C7.15678 14.5237 6.08686 13.4538 4.77178 13.4538C1.61208 13.5737 1.61297 18.1043 4.77183 18.2238C6.08686 18.2238 7.15678 17.1538 7.15678 15.8388ZM21.6168 15.8388C21.6168 14.5237 20.5469 13.4538 19.2318 13.4538C16.0721 13.5737 16.073 18.1043 19.2319 18.2238C20.5469 18.2238 21.6168 17.1538 21.6168 15.8388ZM9.61678 15.8388C9.61678 17.1538 10.6867 18.2238 12.0018 18.2238C15.1615 18.1038 15.1606 13.5732 12.0017 13.4538C10.6867 13.4538 9.61678 14.5237 9.61678 15.8388ZM19.2318 18.2238C18.2901 18.2238 17.4113 18.4981 16.6711 18.971C17.6068 20.0525 18.1732 21.4585 18.1732 22.9937V24.5H23.2987C23.687 24.5 24.0018 24.1852 24.0018 23.7969V22.9937C24.0018 20.3636 21.862 18.2238 19.2318 18.2238Z"
                fill="#F37329"
              />
              <path
                d="M11.96 18.2237C9.31045 18.2237 7.15486 20.3635 7.15486 22.9937V24.5H16.7652V22.9937C16.7652 20.3635 14.6096 18.2237 11.96 18.2237ZM4.77 18.2237C2.1398 18.2237 0 20.3635 0 22.9937V23.7968C0 24.1851 0.314812 24.5 0.703125 24.5H5.74861V22.9937C5.74861 21.4431 6.32639 20.0243 7.27889 18.9386C6.54956 18.4857 5.68983 18.2237 4.77 18.2237ZM16.4687 9.61667V7.10168L12.7217 8.47123C12.2575 8.64209 11.7364 8.64209 11.2725 8.47081L7.53127 7.10248V9.61742C7.53126 9.76153 7.57554 9.90216 7.65811 10.0203C7.74068 10.1384 7.85755 10.2283 7.99289 10.2777L11.7561 11.6541C11.912 11.7111 12.0831 11.7111 12.239 11.6541L16.007 10.2771C16.1423 10.2276 16.2592 10.1377 16.3418 10.0196C16.4244 9.90146 16.4687 9.76081 16.4687 9.61667Z"
                fill="#F37329"
              />
            </svg>
          </div>
          <div>
            <p className="text-sm font-medium">
              Total Students :{" "}
              {formatIndianNumber(university.short_info.total_students)}
            </p>
          </div>
        </div>
        {/* info item  */}
        <div className="flex items-center justify-start gap-2">
          <div>
            <svg
              width="24"
              height="25"
              viewBox="0 0 24 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M20.8953 1.91174H18.7776V4.02939C18.7776 4.45292 18.4247 4.73527 18.0717 4.73527C17.7188 4.73527 17.3659 4.45292 17.3659 4.02939V1.91174H6.07174V4.02939C6.07174 4.45292 5.7188 4.73527 5.36585 4.73527C5.01291 4.73527 4.65997 4.45292 4.65997 4.02939V1.91174H2.54233C1.4835 1.91174 0.707031 2.82939 0.707031 4.02939V6.57057H23.2953V4.02939C23.2953 2.82939 22.0247 1.91174 20.8953 1.91174ZM0.707031 8.05292V20.9706C0.707031 22.2412 1.4835 23.0882 2.61291 23.0882H20.9659C22.0953 23.0882 23.3659 22.1706 23.3659 20.9706V8.05292H0.707031ZM6.98938 19.9117H5.29527C5.01291 19.9117 4.73056 19.7 4.73056 19.347V17.5823C4.73056 17.3 4.94233 17.0176 5.29527 17.0176H7.05997C7.34233 17.0176 7.62468 17.2294 7.62468 17.5823V19.347C7.55409 19.7 7.34233 19.9117 6.98938 19.9117ZM6.98938 13.5588H5.29527C5.01291 13.5588 4.73056 13.347 4.73056 12.9941V11.2294C4.73056 10.947 4.94233 10.6647 5.29527 10.6647H7.05997C7.34233 10.6647 7.62468 10.8764 7.62468 11.2294V12.9941C7.55409 13.347 7.34233 13.5588 6.98938 13.5588ZM12.6364 19.9117H10.8717C10.5894 19.9117 10.307 19.7 10.307 19.347V17.5823C10.307 17.3 10.5188 17.0176 10.8717 17.0176H12.6364C12.9188 17.0176 13.2011 17.2294 13.2011 17.5823V19.347C13.2011 19.7 12.9894 19.9117 12.6364 19.9117ZM12.6364 13.5588H10.8717C10.5894 13.5588 10.307 13.347 10.307 12.9941V11.2294C10.307 10.947 10.5188 10.6647 10.8717 10.6647H12.6364C12.9188 10.6647 13.2011 10.8764 13.2011 11.2294V12.9941C13.2011 13.347 12.9894 13.5588 12.6364 13.5588ZM18.2835 19.9117H16.5188C16.2364 19.9117 15.9541 19.7 15.9541 19.347V17.5823C15.9541 17.3 16.1659 17.0176 16.5188 17.0176H18.2835C18.5659 17.0176 18.8482 17.2294 18.8482 17.5823V19.347C18.8482 19.7 18.6364 19.9117 18.2835 19.9117ZM18.2835 13.5588H16.5188C16.2364 13.5588 15.9541 13.347 15.9541 12.9941V11.2294C15.9541 10.947 16.1659 10.6647 16.5188 10.6647H18.2835C18.5659 10.6647 18.8482 10.8764 18.8482 11.2294V12.9941C18.8482 13.347 18.6364 13.5588 18.2835 13.5588Z"
                fill="#F37329"
              />
            </svg>
          </div>
          <div>
            <p className="text-sm font-medium">
              Launched :{" "}
              {getYearFromDate(university.short_info.launched.toString())}
            </p>
          </div>
        </div>
      </div>

      <div className="mt-auto flex items-center justify-start">
        <Link href={`/universities/${university.slug}`}>
          <Button
            icon={
              <svg
                width="16"
                height="16"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M8 4.16859V12.8353M8 4.16859C7.22133 3.65125 6.164 3.33325 5 3.33325C3.836 3.33325 2.77867 3.65125 2 4.16859V12.8353C2.77867 12.3179 3.836 11.9999 5 11.9999C6.164 11.9999 7.22133 12.3179 8 12.8353M8 4.16859C8.77867 3.65125 9.836 3.33325 11 3.33325C12.1647 3.33325 13.2213 3.65125 14 4.16859V12.8353C13.2213 12.3179 12.1647 11.9999 11 11.9999C9.836 11.9999 8.77867 12.3179 8 12.8353"
                  stroke="#FDFDFD"
                  strokeWidth="2"
                  strokeLinecap="round"
                  strokeLinejoin="round"
                />
              </svg>
            }
          >
            Admission Now
          </Button>
        </Link>
      </div>
    </FadeInLeftWithSlowBounce>
  );
};

export default UniversityCard;
